function getRndInteger(e,t){return Math.floor(Math.random()*(t-e))+e}function returnImgsource(e){return["img/king-dice-icons/tipsy-troop.png","img/king-dice-icons/chips-bettigan.png","img/king-dice-icons/mr-wheezy.png","img/king-dice-icons/pip-and-dot.png","img/king-dice-icons/hopus-pocus.png","img/king-dice-icons/phear-lap.png","img/king-dice-icons/pirouletta.png","img/king-dice-icons/mangosteen.png","img/king-dice-icons/mr-chimes.png"][e-1]}function randomString2(e,t="",s=null){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",a="",o=0;o<e;o++){var i=Math.floor(Math.random()*n.length);a+=n.substring(i,i+1)}if(null==s)return t+a;var r=$.inArray(t+a,s);if(r>-1){var d=0;do{a="";for(o=0;o<e;o++){i=Math.floor(Math.random()*n.length);a+=n.substring(i,i+1)}r=$.inArray(t+a,s),d++}while(r>-1);return console.log("it took "+d+" tries"),t+a}return t+a}function GenerateRandom(e,t,s,n,a,o,i){var r=$("."+e+":eq("+(n-1)+")"),d=$("."+e+":eq("+n+")"),l=Math.floor(500/(a-s)),g=$(d).data("name");$(r).removeClass("--top"),$(d).addClass("--top"),n<t?n++:n==t&&(n=0),s<a?(s++,setTimeout(function(){GenerateRandom(e,t,s,n,a,o,i)},l)):s==a&&(void 0!==o&&"null"!=typeof o&&"object"!=typeof o&&""!=o&&($("."+o+"[data-name="+g+"]").removeClass(o).addClass(o+"--dupe"),$(".js-"+o+"-button").removeClass("button--disabled")),$(".js-"+e+"-summary-text").html(g),console.log(i),$(i).removeClass("button--disabled"))}function generateMiniBosses(e,t,s){var n=randomString2(15);$("#js-toCopy").clone().appendTo("#js-toAppend").attr("id",n).attr("src",returnImgsource(e[t])).addClass("js-to-delete").removeClass("king-dice-group__image--visible"),setTimeout(function(){$("#"+n).addClass("king-dice-group__image--visible")},10),t<e.length-1?(t++,setTimeout(function(){generateMiniBosses(e,t,s)},s)):$(".js-generate-kd").removeClass("button--disabled")}$(".js-button").click(function(){if(!$(this).hasClass("button--disabled")){$(this).addClass("button--disabled");var e=$(this).data("check");$("."+e+"--dupe").removeClass(e+"--dupe").addClass(e),$(".js-"+e+"-button").addClass("button--disabled");var t=$(this).data("class");GenerateRandom(t,$("."+t).length-1,1,0,getRndInteger(100,200),e,$(this))}}),$(".js-allowspecific").change(function(){var e=$(this).data("class"),t=$(this).data("nametocheck");if($(this).is(":checked"))$("."+e+"--not-allowed[data-name="+t+"]").addClass(e).removeClass(e+"--not-allowed");else{var s=$("."+e+"[data-name="+t+"]");$(s).removeClass(e).addClass(e+"--not-allowed"),$(s).hasClass("--top")&&($(s).removeClass("--top"),$("."+e+":eq(0)").addClass("--top"))}}),$(".js-generate-kd").click(function(){if(!$(this).hasClass("button--disabled")){$(this).addClass("button--disabled");for(var e=getRndInteger(4,10),t=3;t<9;t++)$("#js-toAppend").removeClass("king-dice-group--"+t+"-item");$("#js-toAppend").addClass("king-dice-group--"+e+"-item");var s=[],n=getRndInteger(1,4);s.push(n),n=getRndInteger(4,7),s.push(n),n=getRndInteger(7,10),s.push(n),e-=3;for(t=1;t<=e;t++){var a,o=0;do{a=getRndInteger(1,10),-1==$.inArray(a,s)&&(s.push(a),o=1)}while(0==o)}s.sort();var i=returnImgsource(s[0]);$(".js-to-delete").remove(),$("#js-toCopy").attr("src",i),setTimeout(function(){$("#js-toCopy").addClass("king-dice-group__image--visible")},10),setTimeout(function(){generateMiniBosses(s,1,500)},500)}});