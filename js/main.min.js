function getRndInteger(e,n){return Math.floor(Math.random()*(n-e))+e}function returnImgsource(e){return["img/king-dice-icons/tipsy-troop.png","img/king-dice-icons/chips-bettigan.png","img/king-dice-icons/mr-wheezy.png","img/king-dice-icons/pip-and-dot.png","img/king-dice-icons/hopus-pocus.png","img/king-dice-icons/phear-lap.png","img/king-dice-icons/pirouletta.png","img/king-dice-icons/mangosteen.png","img/king-dice-icons/mr-chimes.png"][e-1]}function randomString2(e,n="",t=null){for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",a="",i=0;i<e;i++){var o=Math.floor(Math.random()*s.length);a+=s.substring(o,o+1)}if(null==t)return n+a;var r=$.inArray(n+a,t);if(r>-1){var d=0;do{a="";for(i=0;i<e;i++){o=Math.floor(Math.random()*s.length);a+=s.substring(o,o+1)}r=$.inArray(n+a,t),d++}while(r>-1);return console.log("it took "+d+" tries"),n+a}return n+a}function GenerateRandom(e,n,t,s,a,i){var o=$("."+e+":eq("+(s-1)+")"),r=$("."+e+":eq("+s+")"),d=Math.floor(500/(a-t)),g=$(r).data("name");$(o).removeClass("--top"),$(r).addClass("--top"),s<n?s++:s==n&&(s=0),t<a?(t++,setTimeout(function(){GenerateRandom(e,n,t,s,a,i)},d)):t==a&&(void 0!==i&&"null"!=typeof i&&"object"!=typeof i&&""!=i&&($("."+i+"[data-name="+g+"]").removeClass(i).addClass(i+"--dupe"),$(".js-"+i+"-button").removeClass("button--disabled")),$(".js-"+e+"-summary-text").html(g))}function generateMiniBosses(e,n,t){var s=randomString2(15);$("#js-toCopy").clone().appendTo("#js-toAppend").attr("id",s).attr("src",returnImgsource(e[n])).removeClass("king-dice-group__image--visible"),setTimeout(function(){$("#"+s).addClass("king-dice-group__image--visible")},10),n<e.length-1&&(n++,setTimeout(function(){generateMiniBosses(e,n,t)},t))}$(".js-button").click(function(){if(!$(this).hasClass("button--disabled")){var e=$(this).data("check");$("."+e+"--dupe").removeClass(e+"--dupe").addClass(e),$(".js-"+e+"-button").addClass("button--disabled");var n=$(this).data("class");GenerateRandom(n,$("."+n).length-1,1,0,getRndInteger(100,200),e)}}),$(".js-allowspecific").change(function(){var e=$(this).data("class"),n=$(this).data("nametocheck");if($(this).is(":checked"))$("."+e+"--not-allowed[data-name="+n+"]").addClass(e).removeClass(e+"--not-allowed");else{var t=$("."+e+"[data-name="+n+"]");$(t).removeClass(e).addClass(e+"--not-allowed"),$(t).hasClass("--top")&&($(t).removeClass("--top"),$("."+e+":eq(0)").addClass("--top"))}}),$(".js-generate-kd").click(function(){var e=getRndInteger(4,10),n=[],t=getRndInteger(1,4);n.push(t),t=getRndInteger(4,7),n.push(t),t=getRndInteger(7,10),n.push(t),e-=3;for(var s=1;s<=e;s++){var a,i=0;do{a=getRndInteger(1,10),-1==$.inArray(a,n)&&(n.push(a),i=1)}while(0==i)}n.sort();var o=returnImgsource(n[0]);$("#js-toCopy").attr("src",o),setTimeout(function(){$("#js-toCopy").addClass("king-dice-group__image--visible")},10),setTimeout(function(){generateMiniBosses(n,1,500)},500)});